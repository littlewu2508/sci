Index: Tensile-rocm-4.1.0/Tensile/TensileCreateLibrary.py
===================================================================
--- orig/Tensile/TensileCreateLibrary.py
+++ Tensile-rocm-4.1.0/Tensile/TensileCreateLibrary.py
@@ -169,7 +169,7 @@ def buildSourceCodeObjectFile(CxxCompile
 
       archs = []
       cmdlineArchs = []
-      for arch in globalParameters['SupportedISA']:
+      for arch in [globalParameters['CurrentISA']]:
         if isSupported(arch):
           if (arch == (9,0,6) or arch == (9,0,8)):
             archs += ['gfx'+''.join(map(str,arch))+'-xnack-']
@@ -1067,7 +1067,7 @@ def buildObjectFileNames(solutionWriter,
                if isSupported(arch)]
   elif (cxxCompiler == 'hipcc'):
     sourceArchs = []
-    for arch in globalParameters['SupportedISA']:
+    for arch in [globalParameters['CurrentISA']]:
       if isSupported(arch):
         if (arch == (9,0,6) or arch == (9,0,8)):
           sourceArchs += ['gfx'+''.join(map(str,arch))+'-xnack-']
